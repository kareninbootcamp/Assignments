<!DOCTYPE html>
<html>
<head>
	<title>Consuming REST web service in Javascript</title>
	<!-- <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://code.jquery.com/jquery-3.1.0.min.js"></script>
	<script type="text/javascript">

		$(document).ready(function() {
			console.log("READY!")
			$.ajax({
        		url: "http://localhost:8080/student"
    		}).then(function(data) {
				console.log("Let's get started");
    			console.log(data);
				refresh(data);
			});
			
		});			

          

		function refresh(students){
			var tbl = $("#tdata");

			for(var i=0; i<students.length; i++) {
				var student = students [i];
				var tableRow = $("<tr><td>"+student.first_name + " " + student.last_name + "</td><td>"+student.sat+"</td><td>"+student.gpa+"</td><td>"+student.major_id+"</td></tr>");
				tbl.append(tableRow);
				

			}
		};

	</script>
</head>
<body>
	<table id="studentTable" class="table table-condensed">
	<thead>
	<tr><td>Full Name</td><td>SAT</td><td>GPA</td><td>Major</td></tr>

	</thead>
	<tbody id="tdata">
	</tbody>
	</table>
	<!-- end ready -->

</body>
</html>
